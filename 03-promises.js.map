{"version":3,"file":"03-promises.js","sources":["../src/js/03-promises.js"],"sourcesContent":["const formRef = document.querySelector('.form');\nlet counterPosition = null;\n\nformRef.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const form = e.target;\n  const delayValue = form.elements.delay.value;\n  const stepValue = form.elements.step.value;\n  const amountValue = form.elements.amount.value;\n  onDelay(delayValue, stepValue, amountValue);\n  form.reset();\n}\n\nfunction onDelay(delay, step, amount) {\n  setTimeout(() => {\n    counterPosition = 1;\n    createPromise(counterPosition, delay);\n    if (amount > 1) {\n      onStep(delay, step, amount);\n    }\n  }, delay);\n}\n\nfunction onStep(delay, step, amount) {\n  const timerId = setInterval(() => {\n    counterPosition += 1;\n    createPromise(counterPosition, delay);\n    if (counterPosition === Number(amount)) {\n      clearInterval(timerId);\n    }\n  }, step);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n"],"names":["formRef","counterPosition","handleSubmit","form","delayValue","stepValue","amountValue","onDelay","delay","step","amount","createPromise","onStep","timerId","position","shouldResolve"],"mappings":"wFAAA,MAAMA,EAAU,SAAS,cAAc,OAAO,EAC9C,IAAIC,EAAkB,KAEtBD,EAAQ,iBAAiB,SAAUE,CAAY,EAE/C,SAASA,EAAa,EAAG,CACvB,EAAE,eAAgB,EAClB,MAAMC,EAAO,EAAE,OACTC,EAAaD,EAAK,SAAS,MAAM,MACjCE,EAAYF,EAAK,SAAS,KAAK,MAC/BG,EAAcH,EAAK,SAAS,OAAO,MACzCI,EAAQH,EAAYC,EAAWC,CAAW,EAC1CH,EAAK,MAAO,CACd,CAEA,SAASI,EAAQC,EAAOC,EAAMC,EAAQ,CACpC,WAAW,IAAM,CACfT,EAAkB,EAClBU,EAAcV,EAAiBO,CAAK,EAChCE,EAAS,GACXE,EAAOJ,EAAOC,EAAMC,CAAM,CAE7B,EAAEF,CAAK,CACV,CAEA,SAASI,EAAOJ,EAAOC,EAAMC,EAAQ,CACnC,MAAMG,EAAU,YAAY,IAAM,CAChCZ,GAAmB,EACnBU,EAAcV,EAAiBO,CAAK,EAChCP,IAAoB,OAAOS,CAAM,GACnC,cAAcG,CAAO,CAExB,EAAEJ,CAAI,CACT,CAEA,SAASE,EAAcG,EAAUN,EAAO,CACtC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GAEpC,QAAQ,IADNA,EACU,uBAAuBD,CAAQ,OAAON,CAAK,KAE3C,sBAAsBM,CAAQ,OAAON,CAAK,IAFK,CAI/D"}